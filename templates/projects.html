<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AchievoDash -Empower Your Productivity. Unleash Your Potential</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="../staticFolder/vendor/aos/aos.css" rel="stylesheet">
    <link href="../staticFolder/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../staticFolder/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../staticFolder/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../staticFolder/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="../staticFolder/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../staticFolder/vendor/remixicon/remixicon.css">
    <!-- main css file -->
    <link rel="stylesheet" href="../staticFolder/css/styles.css">
    <link rel="stylesheet" href="../staticFolder/css/dashboard.css">
    <link rel="stylesheet" href="../staticFolder/css/projects.css">
</head>

<body>
    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top">
        <div class="container d-flex align-items-center justify-content-between">
            <h1 class="logo"><a href="{{ url_for('index') }}">Techie</a></h1>
            <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a> -->

            <nav id="navbar" class="navbar">
                <ul>
                    <li><a class="getstarted" href="{{ url_for('logout') }}">Logout</a></li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav>
            <!-- .navbar -->

        </div>
    </header>

    <main class="bg-light">
        <div class="container d-flex align-items-center justify-content-between" id="home">

            <!-- Trigger for offcanvas -->
            <div class="d-flex align-items-center">
                <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions"
                    href="#offcanvasWithBothOptions" role="button" aria-controls="offcanvasWithBothOptions">
                    <i class="bi bi-list text-dark" style="font-size: 30px"></i>
                </a>
                <h4 class="ms-2 my-0 d-sm-block d-none">Projects</h4>
            </div>

            <aside>
                <!-- offcanvas -->
                <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
                    aria-labelledby="offcanvasExampleLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="offcanvasExampleLabel">AchievoDash</h5>
                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                            aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="list-group">
                            <a href="{{ url_for('dashboard') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-speedometer2"></i> &nbsp; Dashboard</li>
                            </a>
                            <a href="{{ url_for('projects') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-boxes"></i> &nbsp; Projects</li>
                            </a>
                            <a href="{{ url_for('task') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-card-checklist"></i> &nbsp; Tasks</li>
                            </a>
                            <a href="{{ url_for('team') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-people-fill"></i> &nbsp; Team members</li>
                            </a>
                            <a href="{{ url_for('calendar') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-calendar-date"></i> &nbsp; Project Calendar
                                </li>
                            </a>
                            <a href="{{ url_for('goal') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-bag-heart"></i> &nbsp; Goals</li>
                            </a>
                            <a href="{{ url_for('profile') }}" class="text-decoration-none">
                                <li class="list-group-item"><i class="bi bi-person-circle"></i> &nbsp; Profile</li>
                            </a>
                        </ul>
                    </div>
                </div>
            </aside>

            <!-- button trigger for add project modal form -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
                data-bs-whatever="@mdo"><i class="bi bi-plus-circle-fill"></i> Create Project</button>
            <!-- add project modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">New Project</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form method="POST" action="/add_project" enctype="multipart/form-data">
                                <div class="mb-3">
                                    <label for="projectTitle" class="label">Project Title</label>
                                    <div class="input-group">
                                        <input class="projectTitle form-control" id="projectTitle" name="projectTitle"
                                            value="" placeholder=" " type="text">
                                    </div>
                                    <div>
                                        <small class="text-danger">

                                        </small>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="message-text" class="col-form-label">Project Description</label>
                                    <textarea class="form-control" id="message-text" name="message-text"></textarea>
                                </div>
                                <div>
                                    <small class="text-danger">

                                    </small>
                                </div>
                                <div class="mb-3 row">
                                    <div class="col-6">
                                        <label for="files" class="col-form-label">Upload files</label>
                                        <input class="mb-2 form-control" id="files" name="files" value=""
                                            placeholder=" " type="file">
                                    </div>
                                    <div class="col-6">
                                        <label for="projectPriority" class="col-form-label">Priority</label>
                                        <select name="projectPriority" id="projectPriority"
                                            class="form-select form-select mb-3" aria-label=".form-select example">
                                            <option value=""></option>
                                            <option value="Highest">Highest</option>
                                            <option value="High">High</option>
                                            <option value="Medium">Medium</option>
                                            <option value="Low">Low</option>
                                            <option value="Lowest">Lowest</option>
                                        </select>
                                    </div>
                                    <div>
                                        <small class="text-danger">

                                        </small>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <div class="col-6">
                                        <label for="projectStart" class="col-form-label">Start</label>
                                        <input class="mb-2 form-control" id="projectStart" name="projectStart" value=""
                                            placeholder=" " type="datetime-local">
                                    </div>
                                    <div class="col-6">
                                        <label for="projectEnd" class="col-form-label">End</label>
                                        <input class="form-control" id="projectEnd" name="projectEnd" value=""
                                            placeholder=" " type="datetime-local">
                                    </div>
                                    <div>
                                        <small class="text-danger">

                                        </small>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Add project</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="container mt-4">
            <div class="row">
                {% if projects %}
                {% for project in projects %}
                <div class="col-lg-4 col-md-4 col-sm-6">
                    {% set project_info = project_data[loop.index0] %}
                    <div class="card">
                        <div class="card-head">
                            <div class="main-head">
                                <a href="{{ url_for('projectdetails', project_id=project.id) }}">
                                    <h5>{{ project.title }}</h5>
                                </a>
                                <p><span>{{ project_info.total_tasks }}</span> open task, <span>{{ project_info.completed_tasks }}</span> completed task</p>
                            </div>
                            <div class="icon">
                                <a role="button" data-bs-toggle="modal" data-bs-target="#editModal-{{ project.id }}"
                                    data-bs-whatever="@mdo" data-bs-id="{{ project.id }}">
                                    <div class="icon-edit">
                                        <i class="bi bi-pencil-square"></i>
                                    </div>
                                </a>
                                <a role="button" data-bs-toggle="modal" data-bs-target="#deleteModal-{{ project.id }}"
                                    data-bs-whatever="@mdo" data-bs-id="{{ project.id }}">
                                    <div class="icon-delete">
                                        <i class="bi bi-trash3-fill"></i>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <p>{{ project.description | truncate_description(30) }}</p>
                        <h6>Deadline</h6>
                        {% if project.end_date %}
                        <span>{{ project.end_date.strftime('%Y-%m-%d %H:%M') }}</span>
                        {% endif %}
                        <h6>Project leader</h6>
                        <img src="../staticFolder/images/avatar1.jpg" alt="">
                        <h6>Team members</h6>
                        <div class="img-team">
                            <img src="../staticFolder/images/avatar2.jpg" alt="">
                            <img src="../staticFolder/images/avatar3.jpg" alt="">
                        </div>
                        <div class="progress-container mt-3">
                            <div class="progress-text">
                                <p>progress</p>
                                <p>{{ project.time_remaining }} left</p>
                            </div>
                            <div class="progress" role="progressbar" aria-label="Info example" aria-valuenow="{{ project_info.progress_percentage }}"
                                aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar bg-success text-dark" style="width: {{ project_info.progress_percentage }}%">{{ project_info.progress_percentage }}%</div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="none card shadow-sm text-center">
                    <p>No Project added </p>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- edit project modal -->
        {% for project in projects %}
        <div class="modal fade" id="editModal-{{ project.id }}" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Project</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form method="POST" action="/edit_project/{{ project.id }}">
                            <input type="hidden" name="project_id" id="project_id">
                            <div class="mb-3">
                                <label for="projectTitle" class="label">Project Title</label>
                                <div class="input-group">
                                    <input class="projectTitle form-control" id="projectTitle" name="projectTitle"
                                        value="{{ project.title }}" placeholder=" " type="text">
                                </div>
                                <div>
                                    <small class="text-danger">

                                    </small>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="message-text" class="col-form-label">Project Description</label>
                                <textarea class="form-control" id="message-text"
                                    name="message-text">{{ project.description }}</textarea>
                            </div>
                            <div>
                                <small class="text-danger">

                                </small>
                            </div>
                            <div class="mb-3 row">
                                <div class="col-6">
                                    <label for="files" class="col-form-label">Upload files</label>
                                    <input class="mb-2 form-control" id="files" name="files" value="" placeholder=" "
                                        type="file">
                                </div>
                                <div class="col-6">
                                    <label for="projectPriority" class="col-form-label">Priority</label>
                                    <select name="projectPriority" id="projectPriority"
                                        class="form-select form-select mb-3" aria-label=".form-select example">
                                        <option value=""></option>
                                        <option value="Highest">Highest</option>
                                        <option value="High">High</option>
                                        <option value="Medium">Medium</option>
                                        <option value="Low">Low</option>
                                        <option value="Lowest">Lowest</option>
                                    </select>
                                </div>
                                <div>
                                    <small class="text-danger">

                                    </small>
                                </div>
                            </div>
                            <div class="mb-3 row">
                                <div class="col-6">
                                    <label for="projectStart" class="col-form-label">Start</label>
                                    <input class="mb-2 form-control" id="projectStart" name="projectStart"
                                        value="{{ project.start_date }}" placeholder=" " type="datetime-local">
                                </div>
                                <div class="col-6">
                                    <label for="projectEnd" class="col-form-label">End</label>
                                    <input class="form-control" id="projectEnd" name="projectEnd"
                                        value="{{ project.end_date }}" placeholder=" " type="datetime-local">
                                </div>
                                <div>
                                    <small class="text-danger">

                                    </small>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}

        <!-- delete project modal -->
        {% for project in projects %}
        <div class="modal fade" id="deleteModal-{{ project.id }}" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Project Permanently?</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="delete-icon-modal text-center">
                            <i class="bi bi-trash3"></i>
                            <p>Are you sure you want to delete this project</p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <form method="POST" action="/delete_project/{{ project.id }}" style="display: inline;">
                            <button type="submit" class="btn btn-danger">Delete</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        <!-- Lorem ipsum dolor sit, amet consectetur adipisicing elit. Unde libero, quod eum vero hic architecto at inventore deserunt perferendis dicta consequuntur debitis iusto error, porro dolores? Sapiente similique minus repellat accusamus incidunt vel unde inventore a officiis adipisci quisquam est, mollitia repudiandae, corporis, at iusto nihil esse nulla molestiae quod! -->
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="flash-messages">
            {% for message in messages %}
            <div class="alert alert-{{ message[1] }}">{{ message[0] }}</div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

    </main>
    <!-- ======= Footer ======= -->
    <footer id="footer">
        <div class="footer-top">
            <div class="container">
                <div class="row">

                    <div class="col-lg-4 col-md-6">
                        <div class="footer-info">
                            <h3>AchievoDash</h3>
                            <p class="pb-3"><em>Stay connected with us for the latest updates and news on our products
                                    and services.</em>
                            </p>
                            <p>
                                37b second west circular road, <br>
                                Benin City, Edo State<br><br>
                                <strong>Phone:</strong> +234 805 7980 962<br>
                                <strong>Email:</strong> israelnosakhare21@gmail.com<br>
                            </p>
                            <div class="social-links mt-3">
                                <a href="https://twitter.com/Izzy_windz/" class="twitter"><i
                                        class="bx bxl-twitter"></i></a>
                                <a href="https://web.facebook.com/israel.ajagboye/" class="facebook"><i
                                        class="bx bxl-facebook"></i></a>
                                <a href="https://www.instagram.com/izzywindz03/" class="instagram"><i
                                        class="bx bxl-instagram"></i></a>
                                <a href="https://medium.com/@isreal4christ21" class="google-plus"><i
                                        class="bx bxl-medium"></i></a>
                                <a href="https://www.linkedin.com/in/israel-ajagboye/" class="linkedin"><i
                                        class="bx bxl-linkedin"></i></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-6 footer-links">
                        <h4>Useful Links</h4>
                        <ul>
                            <li><i class="bx bx-chevron-right"></i> <a href="/#home">Home</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="/#about">About us</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="/#services">Services</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
                        </ul>
                    </div>

                    <div class="col-lg-2 col-md-6 footer-links">
                        <h4>Our Services</h4>
                        <ul>
                            <li><i class="bx bx-chevron-right"></i> <a
                                    href="../staticFolder/html/services/collaboration.html">Collaboration</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a
                                    href="../staticFolder/html/services/task.html">Task management</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a
                                    href="../staticFolder/html/services/goal.html">Goal tracking</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a
                                    href="../staticFolder/html/services/analytics.html">Performance analytics</a></li>
                            <li><i class="bx bx-chevron-right"></i> <a
                                    href="../staticFolder/html/services/integration.html">Integration capabilities</a>
                            </li>
                        </ul>
                    </div>

                    <div class="col-lg-4 col-md-6 footer-newsletter">
                        <h4>Our Newsletter</h4>
                        <p>Subscribe to our newsletter and be the first to receive exclusive offers, product updates,
                            and valuable insights delivered straight to your inbox.</p>
                        <form action="mailto:israelnosakhare21@gmail.com" method="post">
                            <input type="email" name="email"><input type="submit" value="Subscribe">
                        </form>

                    </div>

                </div>
            </div>
        </div>

        <div class="container">
            <div class="copyright">
                &copy; Copyright <strong><span>AchievoDash</span></strong>. All Rights Reserved
            </div>
            <div class="credits">
                Designed by <a href="https://dr-savant21.github.io/Israel_Ajagboye_portfolio/">SavantcodeTech</a>
            </div>
        </div>
    </footer>
    <!-- End Footer -->


    <a href="#home" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="../staticFolder/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="../staticFolder/vendor/aos/aos.js"></script>
    <script src="../staticFolder/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../staticFolder/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="../staticFolder/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../staticFolder/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="../staticFolder/vendor/php-email-form/validate.js"></script>

    <!-- main js file -->
    <script src="../staticFolder/js/index.js"></script>
</body>

</html>